<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>شيك ليست - Viola BEAUTY CENTER</title>
<style>
body {font-family: Arial, sans-serif; background:#f7f7f7; direction: rtl; padding:20px;}
.container {max-width:600px; margin:auto; background:#fff; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
h2 {text-align:center; color:#2c3e50;}
table {width:100%; border-collapse: collapse; margin-top:20px;}
th, td {border:1px solid #ccc; padding:10px; text-align:center;}
th {background:#e9ecef;}
input[type="text"], input[type="date"], textarea {width:95%; padding:5px; border:1px solid #aaa; border-radius:5px;}
input[type="checkbox"] {transform:scale(1.3);}
button {margin-top:20px; padding:10px 20px; background:#28a745; color:#fff; border:none; border-radius:5px; cursor:pointer;}
button:hover {background:#218838;}
</style>
</head>
<body>
<div class="container">
<h2>Viola BEAUTY CENTER ✅ شيك ليست المستحضرات والملاحظات</h2>

<form id="checklistForm">
  <label>الساعة : <input type="text" name="shift" required></label><br><br>
  <label>التاريخ: <input type="date" name="date" required></label><br><br>
  <label>اسم الأخصائية: <input type="text" name="specialist" value="  " required></label><br><br>

  <table>
    <tr>
      <th>بند التشييك</th>
      <th>✔ / ✘</th>
      <th>ملاحظات</th>
    </tr>

    <script>
      const items = [
        "المحافظة على نظافة الغرفة",
        "المحافظة على نظافة الجهاز",
        "وضعية الجهاز بالشكل الصحيح",
        "تواجد النظارة بالغرفة قبل تسليم الشفت",
        "قلم التخطيط والعدد المستهلك",
        "واقي شمس",
        "فاين معطر",
        "فاين عادي",
        "أعواد خشب",
        "قلفز",
        "كحول",
        "كفر رول"
      ];

      items.forEach(item => {
        document.write(`<tr>
          <td>${item}</td>
          <td><input type="checkbox" name="${item.replace(/ /g,'_')}_done"></td>
          <td><textarea name="${item.replace(/ /g,'_')}_notes"></textarea></td>
        </tr>`);
      });
    </script>
  </table>

  <button type="submit">إرسال</button>
</form>
</div>

<script>
document.getElementById('checklistForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const form = e.target;
  const data = new FormData(form);
  const params = new URLSearchParams();
  for(const pair of data.entries()) { params.append(pair[0], pair[1]); }

  // ضع هنا رابط Web App الصحيح بعد نشره كـ Web App مع الوصول لأي شخص
  const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbwZGgiZgYycoHyrQsGfCIALhM3RaA5obkXxQXu-L1D9VEIy3h2UqlHpEGthT4MGW7w6_g/exec';

  fetch(WEB_APP_URL, {
    method: 'POST',
    body: params,
    mode: 'no-cors' // هذا يتيح إرسال البيانات بدون مشاكل CORS
  })
  .then(() => { 
    alert("✅ تم تسجيل البيانات بنجاح!"); 
    form.reset(); 
  })
  .catch(err => alert("❌ خطأ: " + err));
});
</script>
</body>
</html>
